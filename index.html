<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScoreHub Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00ff85; --bg: #0b0e11; --card: #161b22; --border: #30363d; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; letter-spacing: -0.02em; overflow-x: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        header { background: rgba(11, 14, 17, 0.95); backdrop-blur: 12px; border-bottom: 1px solid var(--border); position: fixed; top: 0; width: 100%; max-width: 448px; z-index: 100; }
        .date-divider { position: sticky; top: 72px; background: var(--bg); z-index: 10; padding: 14px 16px; font-size: 11px; font-weight: 900; color: #8b949e; letter-spacing: 0.1em; border-bottom: 1px solid #1f2428; border-top: 1px solid #1f2428; margin-top: 10px; }
        
        .match-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 20px; margin: 8px 16px; display: flex; justify-content: space-between; align-items: center; }
        .league-tag { font-size: 9px; font-weight: 900; padding: 3px 8px; border-radius: 4px; text-transform: uppercase; margin-bottom: 12px; display: inline-block; }
        .tag-PREM { background: #3d195d; color: white; }
        .tag-LALIGA { background: #ee252e; color: white; }
        .tag-MLS { background: #001f52; color: white; }

        .score-box { background: #000; padding: 10px 18px; border-radius: 10px; font-weight: 900; display: flex; gap: 16px; border: 1px solid #21262d; min-width: 85px; justify-content: center; font-size: 18px; font-family: 'Roboto Mono', monospace; }
        
        .nav-bottom { position: fixed; bottom: 0; width: 100%; max-width: 448px; background: #161b22; border-top: 1px solid var(--border); display: flex; justify-content: space-around; padding: 12px 0; z-index: 100; }
        .nav-btn { font-size: 10px; font-weight: 800; color: #8b949e; cursor: pointer; text-transform: uppercase; display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .nav-btn.active { color: var(--accent); }
        
        .wdl-column { font-family: 'Roboto Mono', monospace; font-weight: 700; color: #d1d5db; letter-spacing: -0.05em; }
        .qualify-indicator { width: 4px; height: 24px; border-radius: 2px; margin-right: 10px; }
        .active-league { background: var(--accent) !important; color: #000 !important; }
    </style>
</head>
<body class="max-w-md mx-auto pb-32">

    <header>
        <div class="p-4 flex justify-between items-center">
            <h1 class="text-xl font-black italic tracking-tighter uppercase">Score<span class="text-[#00ff85]">Hub</span></h1>
            <div id="sync-status" class="flex items-center gap-2">
                <span id="sync-label" class="text-[9px] font-bold text-zinc-500 uppercase">Live Hub</span>
                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
            </div>
        </div>
    </header>

    <main class="mt-20">
        <div id="tab-matches">
            <div id="unifiedMatchList"></div>
        </div>

        <div id="tab-standings" class="hidden">
            <div class="flex gap-2 px-4 py-4 overflow-x-auto no-scrollbar">
                <button id="btn-PREM" onclick="renderTable('PREM')" class="league-btn text-[10px] font-black bg-zinc-800 px-5 py-2.5 rounded-full whitespace-nowrap transition-all">PREMIER LEAGUE</button>
                <button id="btn-LALIGA" onclick="renderTable('LALIGA')" class="league-btn text-[10px] font-black bg-zinc-800 px-5 py-2.5 rounded-full whitespace-nowrap transition-all">LA LIGA</button>
                <button id="btn-MLS" onclick="renderTable('MLS')" class="league-btn text-[10px] font-black bg-zinc-800 px-5 py-2.5 rounded-full whitespace-nowrap transition-all">MLS</button>
            </div>
            <div class="px-2 overflow-x-auto">
                <div class="bg-zinc-900/50 rounded-xl border border-zinc-800 min-w-[460px]">
                    <table class="w-full text-left text-[11px]">
                        <thead>
                            <tr id="tableHead" class="uppercase bg-zinc-800/50"></tr>
                        </thead>
                        <tbody id="standingsContent"></tbody>
                    </table>
                </div>
            </div>
            <div id="tableLegend" class="mt-6 px-4 flex flex-wrap gap-4"></div>
        </div>

        <div id="tab-stats" class="hidden p-10 text-center text-zinc-500 font-bold uppercase text-xs">
            Stats Coming Soon...
        </div>
    </main>

    <nav class="nav-bottom">
        <div onclick="switchTab('matches')" id="nav-matches" class="nav-btn active"><i>‚öΩ</i>Main Hub</div>
        <div onclick="switchTab('standings')" id="nav-standings" class="nav-btn"><i>üèÜ</i>Standings</div>
        <div onclick="switchTab('stats')" id="nav-stats" class="nav-btn"><i>üìà</i>Stats</div>
    </nav>

    <script>
        // EXPANDED SCHEDULE DATA FROM CSVs
        const HUB_DATA = {
            "Aug 15": [{"league": "PREM", "home": "Aston Villa", "away": "Newcastle", "result": "2-2"}, {"league": "PREM", "home": "Brighton", "away": "Leicester", "result": "2-2"}, {"league": "PREM", "home": "Sunderland", "away": "West Ham", "result": "0-2"}, {"league": "PREM", "home": "Tottenham", "away": "Burnley", "result": "3-3"}, {"league": "PREM", "home": "Wolves", "away": "Man City", "result": "0-3"}, {"league": "PREM", "home": "Chelsea", "away": "Crystal Palace", "result": "3-2"}, {"league": "PREM", "home": "Nott'm Forest", "away": "Brentford", "result": "1-2"}, {"league": "PREM", "home": "Man Utd", "away": "Arsenal", "result": "2-2"}, {"league": "PREM", "home": "Leeds", "away": "Southampton", "result": "0-1"}, {"league": "LALIGA", "home": "Villarreal", "away": "Real Oviedo", "result": "3-0"}, {"league": "LALIGA", "home": "Alaves", "away": "Levante", "result": "1-0"}, {"league": "LALIGA", "home": "Mallorca", "away": "Barcelona", "result": "1-3"}, {"league": "LALIGA", "home": "Valencia", "away": "Real Sociedad", "result": "2-3"}, {"league": "LALIGA", "home": "Celta Vigo", "away": "Las Palmas", "result": "2-3"}, {"league": "LALIGA", "home": "Athletic Bilbao", "away": "Sevilla", "result": "1-2"}, {"league": "LALIGA", "home": "Espanyol", "away": "Atletico Madrid", "result": "2-2"}, {"league": "LALIGA", "home": "Elche", "away": "Real Betis", "result": "2-0"}, {"league": "LALIGA", "home": "Real Madrid", "away": "Osasuna", "result": "0-3"}],
            "Aug 22": [{"league": "PREM", "home": "West Ham", "away": "Chelsea", "result": "2-3"}, {"league": "PREM", "home": "Man City", "away": "Tottenham", "result": "1-3"}, {"league": "PREM", "home": "Bournemouth", "away": "Wolves", "result": "3-2"}, {"league": "PREM", "home": "Brentford", "away": "Aston Villa", "result": "2-0"}, {"league": "PREM", "home": "Burnley", "away": "Sunderland", "result": "1-3"}, {"league": "PREM", "home": "Arsenal", "away": "Leeds", "result": "0-1"}, {"league": "PREM", "home": "Crystal Palace", "away": "Nott'm Forest", "result": "0-1"}, {"league": "PREM", "home": "Southampton", "away": "Brighton", "result": "4-3"}, {"league": "PREM", "home": "Leicester", "away": "Man Utd", "result": "4-2"}, {"league": "PREM", "home": "Newcastle", "away": "Liverpool", "result": "1-3"}, {"league": "LALIGA", "home": "Real Betis", "away": "Alaves", "result": "4-1"}, {"league": "LALIGA", "home": "Mallorca", "away": "Celta Vigo", "result": "1-1"}, {"league": "LALIGA", "home": "Atletico Madrid", "away": "Elche", "result": "4-2"}, {"league": "LALIGA", "home": "Levante", "away": "Barcelona", "result": "0-7"}, {"league": "LALIGA", "home": "Osasuna", "away": "Valencia", "result": "3-1"}, {"league": "LALIGA", "home": "Real Sociedad", "away": "Espanyol", "result": "1-3"}, {"league": "LALIGA", "home": "Villarreal", "away": "Girona", "result": "3-4"}, {"league": "LALIGA", "home": "Real Oviedo", "away": "Real Madrid", "result": "1-6"}, {"league": "LALIGA", "home": "Athletic Bilbao", "away": "Rayo Vallecano", "result": "3-1"}, {"league": "LALIGA", "home": "Sevilla", "away": "Las Palmas", "result": "3-1"}],
            "Aug 29": [{"league": "PREM", "home": "Aston Villa", "away": "Crystal Palace", "result": "3-3"}, {"league": "PREM", "home": "Chelsea", "away": "Leicester", "result": "2-0"}, {"league": "PREM", "home": "Man Utd", "away": "Burnley", "result": "4-0"}, {"league": "PREM", "home": "Sunderland", "away": "Brentford", "result": "4-4"}, {"league": "PREM", "home": "Tottenham", "away": "Bournemouth", "result": "2-3"}, {"league": "PREM", "home": "Wolves", "away": "Southampton", "result": "2-4"}, {"league": "PREM", "home": "Leeds", "away": "Newcastle", "result": "1-2"}, {"league": "PREM", "home": "Brighton", "away": "Man City", "result": "2-4"}, {"league": "PREM", "home": "Nott'm Forest", "away": "West Ham", "result": "3-4"}, {"league": "PREM", "home": "Liverpool", "away": "Arsenal", "result": "3-1"}, {"league": "LALIGA", "home": "Elche", "away": "Levante", "result": "4-0"}, {"league": "LALIGA", "home": "Valencia", "away": "Las Palmas", "result": "2-3"}, {"league": "LALIGA", "home": "Alaves", "away": "Atletico Madrid", "result": "0-3"}, {"league": "LALIGA", "home": "Real Oviedo", "away": "Real Sociedad", "result": "2-3"}, {"league": "LALIGA", "home": "Girona", "away": "Sevilla", "result": "2-3"}, {"league": "LALIGA", "home": "Real Madrid", "away": "Mallorca", "result": "4-1"}, {"league": "LALIGA", "home": "Celta Vigo", "away": "Villarreal", "result": "2-4"}, {"league": "LALIGA", "home": "Real Betis", "away": "Athletic Bilbao", "result": "1-3"}, {"league": "LALIGA", "home": "Espanyol", "away": "Osasuna", "result": "0-1"}, {"league": "LALIGA", "home": "Rayo Vallecano", "away": "Barcelona", "result": "0-3"}],
            "February 21st": [{"league": "MLS", "home": "Miami", "away": "LA Galaxy", "result": "-"}, {"league": "MLS", "home": "LAFC", "away": "Seattle", "result": "-"}, {"league": "MLS", "home": "Atlanta", "away": "Columbus", "result": "-"}, {"league": "MLS", "home": "Toronto", "away": "Montreal", "result": "-"}, {"league": "MLS", "home": "San Diego", "away": "San Jose", "result": "-"}, {"league": "MLS", "home": "Orlando", "away": "NY Red Bulls", "result": "-"}, {"league": "MLS", "home": "Houston", "away": "Colorado", "result": "-"}, {"league": "MLS", "home": "Charlotte", "away": "New England", "result": "-"}, {"league": "MLS", "home": "Salt Lake", "away": "Minnesota", "result": "-"}, {"league": "MLS", "home": "Vancouver", "away": "Chicago", "result": "-"}],
            "February 28th": [{"league": "MLS", "home": "Montreal", "away": "Houston", "result": "-"}, {"league": "MLS", "home": "NY Red Bulls", "away": "San Diego", "result": "-"}, {"league": "MLS", "home": "LA Galaxy", "away": "Orlando", "result": "-"}, {"league": "MLS", "home": "New England", "away": "LAFC", "result": "-"}, {"league": "MLS", "home": "San Jose", "away": "Toronto", "result": "-"}, {"league": "MLS", "home": "Minnesota", "away": "Vancouver", "result": "-"}, {"league": "MLS", "home": "Colorado", "away": "Charlotte", "result": "-"}, {"league": "MLS", "home": "Chicago", "away": "Atlanta", "result": "-"}, {"league": "MLS", "home": "Columbus", "away": "Salt Lake", "result": "-"}, {"league": "MLS", "home": "Seattle", "away": "Miami", "result": "-"}]
        };

        const LOGOS = {
            "Liverpool": "https://resources.premierleague.com/premierleague25/badges-alt/14.svg",
            "Newcastle": "https://resources.premierleague.com/premierleague25/badges-alt/4.svg",
            "Chelsea": "https://resources.premierleague.com/premierleague25/badges-alt/8.svg",
            "Aston Villa": "https://resources.premierleague.com/premierleague25/badges-alt/7.svg",
            "Man City": "https://resources.premierleague.com/premierleague25/badges-alt/43.svg",
            "Man United": "https://resources.premierleague.com/premierleague25/badges-alt/1.svg",
            "Arsenal": "https://resources.premierleague.com/premierleague25/badges-alt/3.svg",
            "Southampton": "https://upload.wikimedia.org/wikipedia/en/thumb/c/c9/FC_Southampton.svg/1051px-FC_Southampton.svg.png",
            "Bournemouth": "https://resources.premierleague.com/premierleague25/badges-alt/91.svg",
            "Leeds": "https://resources.premierleague.com/premierleague25/badges-alt/2.svg",
            "Brighton": "https://resources.premierleague.com/premierleague25/badges-alt/36.svg",
            "West Ham": "https://resources.premierleague.com/premierleague25/badges-alt/21.svg",
            "Brentford": "https://resources.premierleague.com/premierleague25/badges-alt/94.svg",
            "Tottenham": "https://resources.premierleague.com/premierleague25/badges-alt/6.svg",
            "Crystal Palace": "https://resources.premierleague.com/premierleague25/badges-alt/31.svg",
            "Leicester": "https://upload.wikimedia.org/wikipedia/en/thumb/2/2d/Leicester_City_crest.svg/1200px-Leicester_City_crest.svg.png",
            "Nott'm Forest": "https://resources.premierleague.com/premierleague25/badges-alt/17.svg",
            "Sunderland": "https://resources.premierleague.com/premierleague25/badges-alt/56.svg",
            "Burnley": "https://resources.premierleague.com/premierleague25/badges-alt/90.svg",
            "Wolves": "https://resources.premierleague.com/premierleague25/badges-alt/39.svg",
            "Barcelona": "https://ssl.gstatic.com/onebox/media/sports/logos/paYnEE8hcrP96neHRNofhQ_48x48.png",
            "Real Madrid": "https://ssl.gstatic.com/onebox/media/sports/logos/Th4fAVAZeCJWRcKoLW7koA_48x48.png",
            "Sevilla": "https://ssl.gstatic.com/onebox/media/sports/logos/hCTs5EX3WjCMC5Jl3QE4Rw_48x48.png",
            "Real Sociedad": "https://ssl.gstatic.com/onebox/media/sports/logos/w8tb1aeBfVZIj9tZXf7eZg_48x48.png",
            "Girona": "https://ssl.gstatic.com/onebox/media/sports/logos/sHiSmLm_rA0BOC5MfrNt8A_48x48.png",
            "Atletico Madrid": "https://ssl.gstatic.com/onebox/media/sports/logos/pEqmA7CL-VRo4Llq3rwIPA_48x48.png",
            "Athletic Bilbao": "https://ssl.gstatic.com/onebox/media/sports/logos/OSL_5Zm6kYPP1J17Bo5uDA_48x48.png",
            "Elche": "https://ssl.gstatic.com/onebox/media/sports/logos/uyyqqxLIYT_lQIXRyMI_RA_48x48.png",
            "Osasuna": "https://ssl.gstatic.com/onebox/media/sports/logos/pk-hNCNpGM_JDoHHvLVF-Q_48x48.png",
            "Villarreal": "https://ssl.gstatic.com/onebox/media/sports/logos/WKH7Ak5cYD6Qm1EEqXzmVw_48x48.png",
            "Levante": "https://ssl.gstatic.com/onebox/media/sports/logos/SQB-jlVosxVV1Ce79FhbOA_48x48.png",
            "Las Palmas": "https://upload.wikimedia.org/wikipedia/sco/thumb/2/20/UD_Las_Palmas_logo.svg/1188px-UD_Las_Palmas_logo.svg.png",
            "Mallorca": "https://ssl.gstatic.com/onebox/media/sports/logos/Ss21P4CUmigjrEtcoapjVg_48x48.png",
            "Espanyol": "https://ssl.gstatic.com/onebox/media/sports/logos/TKitIqelDyN6M-kYt4Uc0g_48x48.png",
            "Valencia": "https://ssl.gstatic.com/onebox/media/sports/logos/QPbjvDwI_0Wuu4tCS2O6uw_48x48.png",
            "Real Betis": "https://ssl.gstatic.com/onebox/media/sports/logos/XDClkrMKtkm3UTP2YKN6oQ_48x48.png",
            "Real Oviedo": "https://ssl.gstatic.com/onebox/media/sports/logos/2hbZVQulcYqiPFXkWDkB_g_48x48.png",
            "Celta Vigo": "https://ssl.gstatic.com/onebox/media/sports/logos/wpdhixHP_sloegfP0UlwAw_48x48.png",
            "Rayo Vallecano": "https://ssl.gstatic.com/onebox/media/sports/logos/i5LifmxEVIl0sbvIysiyhw_48x48.png",
            "Alaves": "https://ssl.gstatic.com/onebox/media/sports/logos/RUcTOeFcBc7q7uku1nR_iQ_48x48.png",
            "Miami": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747755405/assets/logos/mls-clubs/Club_Logo-Miami_tyqe64.png",
            "LAFC": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v174775309/assets/logos/mls-clubs/Club_Logo-LAFC_djrhru.png",
            "Atlanta": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747499879/assets/logos/mls-clubs/Club_Logo-Atlanta_jtk7ku.png",
            "Toronto": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1748265251/assets/logos/mls-clubs/Club_Logo-Toronto_vz6hao.png",
            "San Diego": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1748261519/assets/logos/mls-clubs/Club_Logo-San_Diego_nwpyul.png",
            "Orlando": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747769281/assets/logos/mls-clubs/Club_Logo-Orlando_ryyn7a.png",
            "Houston": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747500939/assets/logos/mls-clubs/Club_Logo-Houston_oifm77.png",
            "Charlotte": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747500045/assets/logos/mls-clubs/Club_Logo-Charlotte_p7sznf.png",
            "Salt Lake": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747776403/assets/logos/mls-clubs/Club_Logo-Salt_Lake_City_hpvde5.png",
            "Vancouver": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1748265547/assets/logos/mls-clubs/Club_Logo-Vancouver_ao9phl.png",
            "LA Galaxy": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747755165/assets/logos/mls-clubs/Club_Logo-LA_Galaxy_fg0wjp.png",
            "Seattle": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1748265125/assets/logos/mls-clubs/Club_Logo-Seattle_e6jk2x.png",
            "Columbus": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747500414/assets/logos/mls-clubs/Club_Logo-Columbus_light_z3eq8l.png",
            "Montreal": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747755806/assets/logos/mls-clubs/Club_Logo-Montreal_beeqnh.png",
            "San Jose": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1748262048/assets/logos/mls-clubs/Club_Logo-San_Jose_opzlmo.png",
            "NY Red Bulls": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747771783/assets/logos/mls-clubs/Club_Logo-RBNY_dwawvt.png",
            "Colorado": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747500322/assets/logos/mls-clubs/Club_Logo-Colorado_n5kpss.png",
            "New England": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1766020750/assets/NE_Logo_PRI_FC_RGB_480x480_fdx2us.png",
            "Minnesota": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747754826/assets/logos/mls-clubs/Club_Logo-Minnesota_ftweor.png",
            "Chicago": "https://images.mlssoccer.com/image/upload/t_club_logo_medium/v1747500178/assets/logos/mls-clubs/Club_Logo-Chicago_jm2yev.png"
        };

        const STANDINGS_URLS = {
            PREM: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRGHDcX_hIIzPlyqTZhiySqRNTQho5XFkyRaHqHa0tiPDC3D7zO_b3Mud054IRLzPKaHV1cERaYj3w0/pub?gid=935978435&single=true&output=csv',
            LALIGA: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRGHDcX_hIIzPlyqTZhiySqRNTQho5XFkyRaHqHa0tiPDC3D7zO_b3Mud054IRLzPKaHV1cERaYj3w0/pub?gid=886605383&single=true&output=csv',
            MLS: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT03H3Or-8DCxNZkAnIdhVuwJsej-AEuo6VgZO3pG4WsBYt1HPxCLN0CsGa5P33XghzKltG5AiymB4q/pub?gid=1177278404&single=true&output=csv'
        };

        function getLogo(team) {
            if (!team) return "";
            for (let key in LOGOS) {
                if (team.toLowerCase().includes(key.toLowerCase()) || key.toLowerCase().includes(team.toLowerCase())) return LOGOS[key];
            }
            return "https://via.placeholder.com/40?text=?"; 
        }

        function renderMainHub() {
            const list = document.getElementById('unifiedMatchList');
            list.innerHTML = '';
            
            Object.keys(HUB_DATA).forEach(date => {
                const divider = `<div class="date-divider">${date.toUpperCase()}</div>`;
                list.insertAdjacentHTML('beforeend', divider);

                HUB_DATA[date].forEach(m => {
                    const score = m.result.includes('-') ? m.result.split('-') : ['-','-'];
                    list.insertAdjacentHTML('beforeend', `
                        <div class="match-card">
                            <div class="flex flex-col w-3/5">
                                <span class="league-tag tag-${m.league}">${m.league}</span>
                                <div class="flex flex-col gap-4">
                                    <div class="flex items-center gap-4">
                                        <img src="${getLogo(m.home)}" class="w-10 h-10 object-contain">
                                        <span class="text-sm font-black truncate">${m.home}</span>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <img src="${getLogo(m.away)}" class="w-10 h-10 object-contain">
                                        <span class="text-sm font-black truncate">${m.away}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="score-box">
                                <span>${score[0]}</span>
                                <span class="text-zinc-700">|</span>
                                <span>${score[1]}</span>
                            </div>
                        </div>
                    `);
                });
            });
        }

        function renderTable(league) {
            const head = document.getElementById('tableHead');
            const body = document.getElementById('standingsContent');
            const legend = document.getElementById('tableLegend');

            document.querySelectorAll('.league-btn').forEach(btn => btn.classList.remove('active-league'));
            document.getElementById(`btn-${league}`).classList.add('active-league');

            head.innerHTML = `<th class="pl-4 py-3">POS</th><th>Team</th><th class="text-center">MP</th><th class="text-center">W-D-L</th><th class="pr-4 text-right">PTS</th>`;
            body.innerHTML = `<tr><td colspan="5" class="py-10 text-center text-zinc-500 font-bold uppercase animate-pulse">Fetching Standings...</td></tr>`;

            Papa.parse(STANDINGS_URLS[league], {
                download: true, header: true, skipEmptyLines: 'greedy',
                complete: (res) => {
                    body.innerHTML = res.data.map(r => {
                        const pos = r.Position || r.position || r['#'] || '';
                        const team = r.Team || r.team || '';
                        const mp = r.MP || r.mp || r.GP || 0;
                        const pts = r.Points || r.points || r.Pts || 0;
                        const wdl = r['W-D-L'] || `${r.W || 0}-${r.D || 0}-${r.L || 0}`;
                        const style = getQualifyStyle(league, pos);

                        return `
                        <tr class="font-bold border-b border-zinc-800/30">
                            <td class="pl-4 py-5 flex items-center">
                                <div class="qualify-indicator" style="background: ${style ? style.color : 'transparent'}"></div>
                                <span class="text-zinc-500">${pos}</span>
                            </td>
                            <td>
                                <div class="flex items-center gap-4">
                                    <img src="${getLogo(team)}" class="w-8 h-8 object-contain">
                                    <span class="text-white truncate max-w-[120px]">${team}</span>
                                </div>
                            </td>
                            <td class="text-center text-zinc-400 font-mono">${mp}</td>
                            <td class="text-center wdl-column text-[10px]">${wdl}</td>
                            <td class="pr-4 text-right text-[#00ff85] font-black text-sm">${pts}</td>
                        </tr>`;
                    }).join('');
                }
            });

            const rules = league === 'MLS' ? 
                [{c:'#fbbf24', l:'Shield'}, {c:'#22c55e', l:'Playoffs'}, {c:'#ef4444', l:'Rel'}] :
                [{c:'#00ff85', l:'Champ'}, {c:'#3b82f6', l:'UCL'}, {c:'#fbbf24', l:'UEL'}, {c:'#ef4444', l:'Rel'}];
            
            legend.innerHTML = rules.map(rule => `
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 rounded-full" style="background:${rule.c}"></div>
                    <span class="text-[9px] font-black text-zinc-500 uppercase">${rule.l}</span>
                </div>
            `).join('');
        }

        function getQualifyStyle(league, pos) {
            pos = parseInt(pos);
            if (league === 'MLS') {
                if (pos === 1) return { color: "#fbbf24", label: "Shield" };
                if (pos >= 2 && pos <= 8) return { color: "#22c55e", label: "Playoffs" };
                if (pos >= 19) return { color: "#ef4444", label: "Rel" };
            } else {
                if (pos === 1) return { color: "#00ff85", label: "Champ" };
                if (pos >= 2 && pos <= 4) return { color: "#3b82f6", label: "UCL" };
                if (pos === 5) return { color: "#fbbf24", label: "UEL" };
                if (pos >= 18) return { color: "#ef4444", label: "Rel" };
            }
            return null;
        }

        function switchTab(tab) {
            ['matches', 'standings', 'stats'].forEach(t => {
                document.getElementById(`tab-${t}`).classList.toggle('hidden', t !== tab);
                document.getElementById(`nav-${t}`).classList.toggle('active', t === tab);
            });
            if (tab === 'standings') renderTable('PREM');
        }

        // Initialize
        renderMainHub();
    </script>
</body>
</html>
